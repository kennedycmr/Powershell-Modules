<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data ONTAP PowerShell Toolkit: Cmdlet New-NcLun</title></head><body><hr>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 CLASS="NavBarCell1">
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD CLASS="NavBarCell1">    <A HREF="index.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD CLASS="NavBarCell1">    <A HREF="categories.html"><FONT CLASS="NavBarFont1"><B>Categories</B></FONT></A>&nbsp;</TD>
  <TD CLASS="NavBarCell1">    <A HREF="cmdlets.html"><FONT CLASS="NavBarFont1"><B>Cmdlets</B></FONT></A>&nbsp;</TD>
  <TD CLASS="NavBarCell1">    <A HREF="apis.html"><FONT CLASS="NavBarFont1"><B>APIs</B></FONT></A>&nbsp;</TD>
  <TD CLASS="NavBarCell1">    <A HREF="provider.html"><FONT CLASS="NavBarFont1"><B>Provider</B></FONT></A>&nbsp;</TD>
  <TD CLASS="NavBarCell1">    <A HREF="releaseNotes.html"><FONT CLASS="NavBarFont1"><B>Release notes</B></FONT></A>&nbsp;</TD>
  <TD CLASS="NavBarCell1">    <A HREF="license.html"><FONT CLASS="NavBarFont1"><B>License</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="middle" ROWSPAN=1>
<img border="0" src="NetAppLogoSmall.png">&nbsp;<EM><b>Data ONTAP&reg;&nbsp;PowerShell&nbsp;Toolkit</b></EM>
</TD>
</TR>
</TABLE><hr>
<TABLE ALIGN="center">
<TD ALIGN="center" VALIGN="middle"><A HREF="../webhelp/index.html"><FONT CLASS="NavBarFont1"><B>Switch to Data ONTAP 7-mode documentation.</B></FONT></A></TD>
</TABLE><hr><H2>Cmdlet: New-NcLun</H2><PRE><br>NAME<br>    New-NcLun<br>    <br>SYNOPSIS<br>    Create a LUN by one of two methods: by size or from file.<br>    <br>SYNTAX<br>    New-NcLun [-Path] &lt;String&gt; [-Size] &lt;String&gt; [-OsType &lt;String&gt;] <br>    [-Unreserved] [-ThinProvisioningSupportEnabled] [-PrefixSize &lt;Int64&gt;] <br>    [-QosPolicyGroup &lt;String&gt;] [-Class &lt;String&gt;] [-Comment &lt;String&gt;] <br>    [-UseExactSize [&lt;Boolean&gt;]] [-Application &lt;String&gt;] [-VserverContext <br>    &lt;String&gt;] [-Controller &lt;NcController[]&gt;] [-ZapiRetryCount &lt;Int32&gt;] <br>    [&lt;CommonParameters&gt;]<br>    <br>    New-NcLun [-Path] &lt;String&gt; -SourceFile &lt;String&gt; [-OsType &lt;String&gt;] <br>    [-Unreserved] [-ThinProvisioningSupportEnabled] [-QosPolicyGroup &lt;String&gt;] <br>    [-Class &lt;String&gt;] [-Comment &lt;String&gt;] [-Application &lt;String&gt;] <br>    [-VserverContext &lt;String&gt;] [-Controller &lt;NcController[]&gt;] [-ZapiRetryCount <br>    &lt;Int32&gt;] [&lt;CommonParameters&gt;]<br>    <br>    New-NcLun [-Path] &lt;String&gt; -ForeignDisk &lt;String&gt; [-OsType &lt;String&gt;] <br>    [-Unreserved] [-ThinProvisioningSupportEnabled] [-PrefixSize &lt;Int64&gt;] <br>    [-QosPolicyGroup &lt;String&gt;] [-Class &lt;String&gt;] [-Comment &lt;String&gt;] <br>    [-Application &lt;String&gt;] [-VserverContext &lt;String&gt;] [-Controller <br>    &lt;NcController[]&gt;] [-ZapiRetryCount &lt;Int32&gt;] [&lt;CommonParameters&gt;]<br>    <br>    <br>DESCRIPTION<br>    Create a LUN by one of two methods: by size or from file.<br>    <br>    By size:  Create a new LUN of given size, with initially zero contents.  <br>    The LUN is created at the path given.  No file should already exist at the <br>    given path.  The directory specified in the path must be a qtree root <br>    directory.  The size of the created LUN may be larger than the size <br>    specified, in order to get an integral number of cylinders while reporting <br>    the geometry using SAN protocols.<br>    <br>    From file:  Create a LUN from an existing file.  A new LUN is created at <br>    the given LUN path (which must be at a qtree root).  A hard link is created <br>    to the existing file.  The file contents are not copied or changed.  The <br>    file can be resized to a larger size, rounding up to a cylinder boundary.<br>    <br><br>PARAMETERS<br>    -Path &lt;String&gt;<br>        Path of the newly created LUN if successful. This path must not exist <br>        already (i.e. a file or directory with this same path).<br>        <br>        Required?                    true<br>        Position?                    1<br>        Default value                <br>        Accept pipeline input?       true (ByPropertyName)<br>        Accept wildcard characters?  false<br>        <br>    -Size &lt;String&gt;<br>        New size for the LUN in bytes.  The format to use is: &lt;number&gt;[k|m|g|t] <br>        where the units are optional and &quot;k&quot; means kilobytes, &quot;m&quot; means <br>        megabytes, &quot;g&quot; means gigabytes, and &quot;t&quot; means terabytes.<br>        <br>        Required?                    true<br>        Position?                    2<br>        Default value                <br>        Accept pipeline input?       true (ByPropertyName)<br>        Accept wildcard characters?  false<br>        <br>    -OsType &lt;String&gt;<br>        The OS type for the LUN.  The default type if not specified is &quot;image&quot;. <br>         It is strongly recommended for the caller of this API to avoid using <br>        the &quot;image&quot; type because it could result in misconfigured LUNs.  For <br>        example, a LUN with OS type &quot;image&quot; could suffer major performance <br>        penalties when a Windows host is trying to access it.<br>        <br>        The image type of the lun. This value determines the proper alignment <br>        settings for the desired host filesystem layout. Possible values:<br>        <br>        &quot;aix&quot; - The LUN will be used to store an AIX filesystem<br>        &quot;hpux&quot; - The LUN will be used to store an HP-UX filesystem<br>        &quot;hyper_v&quot; - The LUN will be used to store Hyper-V VHDs (Virtual Hard <br>        Disks)<br>        &quot;image&quot; - The default type indicating no assumptions will be made about <br>        the data stored in the LUN<br>        &quot;linux&quot; - The LUN will be used to store a Linux filesystem with no <br>        partition table<br>        &quot;netware&quot; - The LUN will be used to store a Netware filesystem<br>        &quot;openvms&quot; - The LUN will be used to store an OpenVMS filesystem<br>        &quot;solaris&quot; - The LUN will be used to store a Solaris filesystem, in a <br>        single slice partition<br>        &quot;solaris_efi&quot; - The LUN will be used to store a Solaris filesystem with <br>        an EFI partition table<br>        &quot;vmware&quot; - The LUN will be used to store a VMware Virtual Machine File <br>        System (VMFS) containing Virtual Machine Disk Files (VMDKs)<br>        &quot;windows&quot; - The LUN will be used to store a Windows filesystem with a <br>        Master Boot Record (MBR) partition table.<br>        &quot;windows_2008&quot; - The LUN will be used to store a Windows filesystem <br>        with a Master Boot Record (MBR) partition table on Windows 2008 or later<br>        &quot;windows_gpt&quot; - The LUN will be used to store a Windows filesystem with <br>        a GUID Partition Table (GPT).<br>        &quot;xen&quot; - The LUN stores Xen data.<br>        <br>        Required?                    false<br>        Position?                    named<br>        Default value                <br>        Accept pipeline input?       false<br>        Accept wildcard characters?  false<br>        <br>    -Unreserved<br>        By default, the LUN is space-reserved.  If it is desired to manage <br>        space usage manually instead, this can be specified which will create a <br>        LUN without any space being reserved.<br>        <br>        Required?                    false<br>        Position?                    named<br>        Default value                <br>        Accept pipeline input?       false<br>        Accept wildcard characters?  false<br>        <br>    -ThinProvisioningSupportEnabled<br>        By default thin provisioning support is not enabled. If this switch is <br>        specified, standards compliant Thin Provisioning features will be <br>        enabled for the Lun, including in-band reporting of space threshold <br>        events. <br>        <br>        This parameter is only available on Data ONTAP 8.3 and up.<br>        <br>        Required?                    false<br>        Position?                    named<br>        Default value                <br>        Accept pipeline input?       false<br>        Accept wildcard characters?  false<br>        <br>    -PrefixSize &lt;Int64&gt;<br>        The size of the prefix stream for this LUN in bytes.  Certain OS types <br>        store a small portion of the data corresponding to partition tables (or <br>        similar structures) in the prefix stream.  This is part of the LUN data <br>        and is transparent to hosts that access the LUN via block protocols.  <br>        The default size is based on the OS type.  Giving a value here <br>        overrides the default, but it is strongly recommended to avoid changing <br>        this default size.  The value in this field must be a multiple of 512 <br>        bytes.  Note that this value has no effect when the OS type is &quot;image&quot;.<br>        <br>        Required?                    false<br>        Position?                    named<br>        Default value                <br>        Accept pipeline input?       false<br>        Accept wildcard characters?  false<br>        <br>    -QosPolicyGroup &lt;String&gt;<br>        QoS policy group defines measurable Service Level Objectives (SLOs) <br>        that apply to the storage objects with which the policy group is <br>        associated. If you do not assign a policy group to a lun, the system <br>        will not monitor and control the traffic to it.  This parameter is <br>        available in Data ONTAP 8.2 and later.<br>        <br>        Required?                    false<br>        Position?                    named<br>        Default value                <br>        Accept pipeline input?       false<br>        Accept wildcard characters?  false<br>        <br>    -Class &lt;String&gt;<br>        The class of the LUN. Possible values:<br>        <br>        &quot;regular&quot;            - The LUN is for normal blocks access,<br>        &quot;protocol_endpoint&quot;  - The LUN is a vvol protocol endpoint,<br>        &quot;vvol&quot;               - The LUN is a vvol data LUN.<br>        <br>        The default value is &quot;regular&quot;.<br>        <br>        Required?                    false<br>        Position?                    named<br>        Default value                <br>        Accept pipeline input?       false<br>        Accept wildcard characters?  false<br>        <br>    -Comment &lt;String&gt;<br>        A description for the LUN being created.  The comment can be at most <br>        254 characters.<br>        <br>        This parameter is only available on Data ONTAP 8.3 and up.<br>        <br>        Required?                    false<br>        Position?                    named<br>        Default value                <br>        Accept pipeline input?       false<br>        Accept wildcard characters?  false<br>        <br>    -UseExactSize [&lt;Boolean&gt;]<br>        Use the exact size specified instead of rounding to best fit geometry. <br>        If true, size must be a multiple of 512. The default value is false. <br>        This field may not be specified in combination with foreign-disk.<br>        <br>        This parameter is available with DataONTAP 9.2 and up.<br>        <br>        Required?                    false<br>        Position?                    named<br>        Default value                <br>        Accept pipeline input?       true (ByPropertyName)<br>        Accept wildcard characters?  false<br>        <br>    -Application &lt;String&gt;<br>        The application for the LUN being created. This value must match the <br>        application for the containing volume. <br>        <br>        This parameter is available with DataONTAP 9.2 and up.<br>        <br>        Required?                    false<br>        Position?                    named<br>        Default value                <br>        Accept pipeline input?       false<br>        Accept wildcard characters?  false<br>        <br>    -VserverContext &lt;String&gt;<br>        Vserver to which to direct this command.  If the currently connected <br>        controller (as embodied by an NcController object) represents a <br>        cluster, there are multiple means to address commands to one of its <br>        vservers.  Either set the Vserver field on the NcController object to <br>        direct all subsequent commands to that vserver, or supply the <br>        VserverContext parameter to an individual cmdlet.  Only cmdlets which <br>        may be invoked on vservers offer the VserverContext parameter.<br>        <br>        Required?                    false<br>        Position?                    named<br>        Default value                <br>        Accept pipeline input?       false<br>        Accept wildcard characters?  false<br>        <br>    -Controller &lt;NcController[]&gt;<br>        A clustered Data ONTAP controller to receive this cmdlet, as embodied <br>        by an NcController object.  This parameter is returned by the <br>        Connect-NcController cmdlet.  If not specified, the value in the global <br>        variable CurrentNcController is used.  In the latter case, if <br>        CurrentNcController contains a collection of NcController objects, this <br>        cmdlet is invoked on each controller in succession.<br>        <br>        Required?                    false<br>        Position?                    named<br>        Default value                <br>        Accept pipeline input?       true (ByValue, ByPropertyName)<br>        Accept wildcard characters?  false<br>        <br>    -ZapiRetryCount &lt;Int32&gt;<br>        The number of times to retry commands that return with errors that may <br>        succeed after a retry<br>        <br>        Required?                    false<br>        Position?                    named<br>        Default value                <br>        Accept pipeline input?       false<br>        Accept wildcard characters?  false<br>        <br>    -SourceFile &lt;String&gt;<br>        A fully qualified path to the file to create the LUN from.  This must <br>        be in the same qtree as the LUN being created.<br>        <br>        Required?                    true<br>        Position?                    named<br>        Default value                <br>        Accept pipeline input?       false<br>        Accept wildcard characters?  false<br>        <br>    -ForeignDisk &lt;String&gt;<br>        If a foreign Disk serial number is specified here, new size of the LUN <br>        will be of exact capacity as that of the Foreign Disk.<br>        <br>        This is only available on Data ONTAP 8.3 and up.<br>        <br>        Required?                    true<br>        Position?                    named<br>        Default value                <br>        Accept pipeline input?       true (ByPropertyName)<br>        Accept wildcard characters?  false<br>        <br>    &lt;CommonParameters&gt;<br>        This cmdlet supports the common parameters: Verbose, Debug,<br>        ErrorAction, ErrorVariable, WarningAction, WarningVariable,<br>        OutBuffer and OutVariable. For more information, see <br>        about_CommonParameters (http://go.microsoft.com/fwlink/?LinkID=113216). <br>    <br>INPUTS<br>    <br>        <br>        <br>    <br>     <br>    <br>OUTPUTS<br>    DataONTAP.C.Types.Lun.LunInfo<br>        <br>        <br>    <br>     <br>    <br>NOTES<br>    <br>    <br>        Category: lun<br>        API: lun-create-by-size, lun-create-from-file<br>        Family: vserver<br>    <br>    --------------  Example 1 --------------<br>    <br>    C:\PS&gt;New-NcLun /vol/bigvol/ExchangeTest 20gb -Unreserved<br>    <br>    <br>    Create a new LUN of 20 GB.<br>    <br>    <br>    <br>    Protocol                           : image<br>    Thin                               : True<br>    Vserver                            : vserver1<br>    Volume                             : bigvol<br>    Qtree                              :<br>    Path                               : /vol/bigvol/ExchangeTest<br>    NcController                       : 10.61.172.155<br>    Alignment                          : indeterminate<br>    BackingSnapshot                    :<br>    BlockSize                          : 512<br>    CloneBackingSnapshot               :<br>    Comment                            :<br>    CreationTimestamp                  : 1317421474<br>    CreationTimestampDT                : 9/30/2011 10:24:34 PM<br>    DeviceBinaryId                     :<br>    DeviceId                           :<br>    DeviceTextId                       :<br>    IsSpaceAllocEnabled                : False<br>    IsSpaceReservationEnabled          : False<br>    Mapped                             : False<br>    MultiprotocolType                  : image<br>    Online                             : True<br>    PrefixSize                         : 0<br>    ReadOnly                           : False<br>    SerialNumber                       : 1k/T2$-sjT2Q<br>    ShareState                         : none<br>    Size                               : 21474836480<br>    SizeUsed                           : 0<br>    Staging                            : False<br>    SuffixSize                         : 0<br>    Uuid                               : f9d8d3ce-ebb2-11e0-8b71-123478563412<br>    DeviceIdSpecified                  : False<br>    IsSpaceAllocEnabledSpecified       : True<br>    IsSpaceReservationEnabledSpecified : True<br>    MappedSpecified                    : True<br>    OnlineSpecified                    : True<br>    ReadOnlySpecified                  : True<br>    StagingSpecified                   : True<br>    <br>    <br>    <br>    --------------  Example 2 --------------<br>    <br>    C:\PS&gt;New-NcLun -Path /vol/san_vol/t1 -ForeignDisk <br>    &quot;6000c29785c801bf5146d47aab30bfdf&quot; -Unreserved <br>    -ThinProvisioningSupportEnabled -VserverContext pstk_san -Comment &quot;Test lun&quot;<br>    <br>    <br>    Adds a new thinly-provisioned lun, with a capacity equal to size of foreign <br>    disk 6000c29785c801bf5146d47aab30bfdf<br>    <br>    <br>    <br>    Path                                           Size   SizeUsed Protocol     <br>    Online Mapped  Thin  Vserver<br>    ----                                           ----   -------- --------     <br>    ------ ------  ----  -------<br>    /vol/san_vol/t1                            100.0 MB          0 image        <br>     True  False   True  pstk_san<br>    <br>    <br>    <br>    <br>RELATED LINKS<br>    <A HREF="cmdlet_Get-NcLun.html">Get-NcLun</A> <br>    <A HREF="cmdlet_Remove-NcLun.html">Remove-NcLun</A> <br><br><br><br><br><br></PRE><br><hr>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 CLASS="NavBarCell1">
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD CLASS="NavBarCell1"><FONT CLASS="NavBarFont1"><B>Copyright&nbsp;&copy;&nbsp;2013 NetApp.&nbsp;&nbsp;All rights reserved.&nbsp;&nbsp;Use is subject to <A HREF="license.html">license</A> terms.</B></FONT>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="middle" ROWSPAN=1>
<img border="0" src="NetAppLogoSmall.png">&nbsp;<EM><b>Data ONTAP&reg;&nbsp;PowerShell&nbsp;Toolkit</b></EM>
</TD>
</TR>
</TABLE><hr></body></html>