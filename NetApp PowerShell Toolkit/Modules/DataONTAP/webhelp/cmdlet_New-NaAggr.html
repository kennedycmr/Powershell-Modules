<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data ONTAP PowerShell Toolkit: Cmdlet New-NaAggr</title></head><body><hr>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 CLASS="NavBarCell1">
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD CLASS="NavBarCell1">    <A HREF="index.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD CLASS="NavBarCell1">    <A HREF="categories.html"><FONT CLASS="NavBarFont1"><B>Categories</B></FONT></A>&nbsp;</TD>
  <TD CLASS="NavBarCell1">    <A HREF="cmdlets.html"><FONT CLASS="NavBarFont1"><B>Cmdlets</B></FONT></A>&nbsp;</TD>
  <TD CLASS="NavBarCell1">    <A HREF="apis.html"><FONT CLASS="NavBarFont1"><B>APIs</B></FONT></A>&nbsp;</TD>
  <TD CLASS="NavBarCell1">    <A HREF="provider.html"><FONT CLASS="NavBarFont1"><B>Provider</B></FONT></A>&nbsp;</TD>
  <TD CLASS="NavBarCell1">    <A HREF="releaseNotes.html"><FONT CLASS="NavBarFont1"><B>Release notes</B></FONT></A>&nbsp;</TD>
  <TD CLASS="NavBarCell1">    <A HREF="license.html"><FONT CLASS="NavBarFont1"><B>License</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="middle" ROWSPAN=1>
<img border="0" src="NetAppLogoSmall.png">&nbsp;<EM><b>Data ONTAP&reg;&nbsp;PowerShell&nbsp;Toolkit</b></EM>
</TD>
</TR>
</TABLE><hr>
<TABLE ALIGN="center">
<TD ALIGN="center" VALIGN="middle"><A HREF="../webhelp.C/index.html"><FONT CLASS="NavBarFont1"><B>Switch to clustered Data ONTAP documentation.</B></FONT></A></TD>
</TABLE><hr><H2>Cmdlet: New-NaAggr</H2><PRE><br>NAME<br>    New-NaAggr<br>    <br>SYNOPSIS<br>    Create a new aggregate.<br>    <br>SYNTAX<br>    New-NaAggr [-Name] &lt;String&gt; [-Use32Bit] [-Use64Bit] -DiskCount &lt;Int64&gt; <br>    [-DiskSize &lt;Int64&gt;] [-DiskType &lt;String&gt;] [-ForceSparePool] [-Mirrored] <br>    [-SnapLock] [-LanguageCode &lt;String&gt;] [-RaidSize &lt;Int64&gt;] [-RPM &lt;Int64&gt;] <br>    [-SparePool &lt;String&gt;] [-AllowMixedRpm] [-IgnorePoolChecks] [-PreCheck] <br>    [-Controller &lt;NaController&gt;] [-RaidType &lt;String&gt;] [-SnapLockType &lt;String&gt;] <br>    [-Type &lt;String&gt;] [&lt;CommonParameters&gt;]<br>    <br>    New-NaAggr [-Name] &lt;String&gt; [-Use32Bit] [-Use64Bit] -Disks &lt;Object[]&gt; <br>    [-ForceSparePool] [-Mirrored] [-SnapLock] [-LanguageCode &lt;String&gt;] <br>    [-MirrorDisks &lt;Object[]&gt;] [-RaidSize &lt;Int64&gt;] [-AllowSameCarrier] <br>    [-AllowMixedRpm] [-IgnorePoolChecks] [-PreCheck] [-Controller <br>    &lt;NaController&gt;] [-RaidType &lt;String&gt;] [-SnapLockType &lt;String&gt;] [-Type <br>    &lt;String&gt;] [&lt;CommonParameters&gt;]<br>    <br>    <br>DESCRIPTION<br>    Create a new aggregate with the given name.  Up to 200 aggregates can be <br>    created on each filer (including the aggregates that are &quot;embedded&quot; in <br>    traditional volumes, which must be created as a side effect of a <br>    traditional volume creation).  The aggregate may not yet be operational <br>    immediately after the API returns.  Use &quot;Get-NaAggr&quot; to query the status of <br>    the newly-created aggregate to determine when it is fully operational.<br>    <br>    NOTE: If ECANT_USE_ALL_DISKS is returned, then the requested aggregate was <br>    indeed created, just not with all the disks that were specified.<br>    <br><br>PARAMETERS<br>    -Name &lt;String&gt;<br>        Name of the aggregate to create.  The aggregate name can contain <br>        letters, numbers, and the underscore character(_), but the first <br>        character must be a letter or underscore.<br>        <br>        Required?                    true<br>        Position?                    1<br>        Default value                <br>        Accept pipeline input?       true (ByValue, ByPropertyName)<br>        Accept wildcard characters?  false<br>        <br>    -Use32Bit<br>        If specified, a 32-bit aggregate will be created (requires Data ONTAP <br>        8.0 or later).  If specified and the controller is not 8.0 or later, <br>        the switch will be ignored.<br>        <br>        Required?                    false<br>        Position?                    named<br>        Default value                <br>        Accept pipeline input?       false<br>        Accept wildcard characters?  false<br>        <br>    -Use64Bit<br>        If specified, a 64-bit aggregate will be created (requires Data ONTAP <br>        8.0 or later).  If specified and the controller is not 8.0 or later, <br>        the switch will be ignored.<br>        <br>        Required?                    false<br>        Position?                    named<br>        Default value                <br>        Accept pipeline input?       false<br>        Accept wildcard characters?  false<br>        <br>    -DiskCount &lt;Int64&gt;<br>        Number of disks to place into the aggregate, including parity disks.  <br>        The disks in this newly-created aggregate come from the spare disk <br>        pool. The smallest disks in this pool join the aggregate first, unless <br>        the &quot;disk-size&quot; argument is provided. Either &quot;disk-count&quot; or &quot;disks&quot; <br>        must be supplied. Range [0..2^31-1].<br>        <br>        Required?                    true<br>        Position?                    named<br>        Default value                <br>        Accept pipeline input?       false<br>        Accept wildcard characters?  false<br>        <br>    -DiskSize &lt;Int64&gt;<br>        Disk size in bytes.  Disks that are within 10% of the specified size <br>        will be selected for use in the aggregate.   If not specified, existing <br>        groups are appended with disks that are the best match for the largest <br>        disk in the group.  When starting new groups, the smallest disks are <br>        selected first.  This option is ignored if a specific list of disks to <br>        use is specified through the &quot;disks&quot; parameter.<br>        <br>        Required?                    false<br>        Position?                    named<br>        Default value                <br>        Accept pipeline input?       false<br>        Accept wildcard characters?  false<br>        <br>    -DiskType &lt;String&gt;<br>        Type of disks to use: ATA, EATA, FCAL, LUN, SAS, SATA, SCSI, XATA, or <br>        XSAS. This option is needed only when disks of different types are <br>        connected to the filer.  It is not allowed if a list of  disks to use <br>        is specified through the &quot;disks&quot; parameter. An aggregate can never be <br>        created using a mix of disks of different types.<br>        <br>        Required?                    false<br>        Position?                    named<br>        Default value                <br>        Accept pipeline input?       false<br>        Accept wildcard characters?  false<br>        <br>    -ForceSparePool<br>        Disks in a plex are not normally permitted to span spare pools.  This <br>        behavior is overridden with this option when it is set to &quot;true&quot;.<br>        <br>        Required?                    false<br>        Position?                    named<br>        Default value                false<br>        Accept pipeline input?       false<br>        Accept wildcard characters?  false<br>        <br>    -Mirrored<br>        Specifies that the new aggregate be mirrored (have two plexes).  If set <br>        to &quot;true&quot;, then the indicated disks will be split across the two <br>        plexes.  By default, the new aggregate will not be mirrored.<br>        <br>        Required?                    false<br>        Position?                    named<br>        Default value                false<br>        Accept pipeline input?       false<br>        Accept wildcard characters?  false<br>        <br>    -SnapLock<br>        Specifies the creation of a SnapLock aggregate. By default, is-snaplock <br>        is not specified. <br>        <br>        When SnapLock is &quot;true&quot; the type of snaplock aggregate is determined in <br>        the following way <br>        1&gt; If SnapLockType is set, create the type specified in SnapLockType <br>        (see SnapLockType for more details)<br>        2&gt; Otherwise, create a Snaplock enterprise aggregate if a Snaplock <br>        enterprise license has been installed.<br>        3&gt; Otherwise, create a Snaplock compliance aggregate. <br>        <br>        ESERVICENOTLICENSED is returned if the required Snaplock Compliance or <br>        Enterprise license is not installed.<br>        <br>        EONTAPI_EWORMNOCLOCK is returned if SnapLock Compliance Clock is not <br>        running.<br>        <br>        If you need to create a snaplock aggregate, the suggested method is to <br>        specify SnapLockType as &quot;compliance&quot; or &quot;enterprise&quot; and not specify <br>        SnapLock at all. If you want to create a non-snaplock aggregate, the <br>        suggested method is to specify neither SnapLockType nor SnapLock.<br>        <br>        Required?                    false<br>        Position?                    named<br>        Default value                <br>        Accept pipeline input?       false<br>        Accept wildcard characters?  false<br>        <br>    -LanguageCode &lt;String&gt;<br>        Specifies the language to use for the new traditional volume via a <br>        language code.   The default language is the one used by the filer&#39;s <br>        root volume.  This option may be used only when creating a traditional <br>        volume, i.e. when &quot;Type&quot; is &quot;trad.&quot;   Available language codes are: <br>        <br>         C            (POSIX) <br>         da           (Danish)<br>         de           (German)<br>         en           (English)<br>         en_US        (English (US))<br>         es           (Spanish)<br>         fi           (Finnish)<br>         fr           (French)<br>         he           (Hebrew)<br>         it           (Italian)<br>         ja           (Japanese euc-j)<br>         ja_JP.PCK    (Japanese PCK (sjis))<br>         ko           (Korean) <br>         no           (Norwegian)<br>         nl           (Dutch) <br>         pt           (Portuguese)<br>         sv           (Swedish)<br>         zh           (Simplified Chinese)<br>         zh.GBK       (Simplified Chinese (GBK))<br>         zh_TW        (Traditional Chinese euc-tw)<br>         zh_TW.BIG5   (Traditional Chinese Big 5) <br>        <br>        To use UTF-8 as the NFS character set, append &#39;.UTF-8&#39;.<br>        <br>        Required?                    false<br>        Position?                    named<br>        Default value                <br>        Accept pipeline input?       false<br>        Accept wildcard characters?  false<br>        <br>    -RaidSize &lt;Int64&gt;<br>        Specifies the maximum number of disks in each RAID group in the <br>        aggregate.  The maximum value for this parameter is 28.  The default <br>        value is platform-dependent.  The valid range of values is also <br>        platform-dependent, but never wider than [2..28].<br>        <br>        Required?                    false<br>        Position?                    named<br>        Default value                <br>        Accept pipeline input?       false<br>        Accept wildcard characters?  false<br>        <br>    -RPM &lt;Int64&gt;<br>        Rotational speed of disks in revolutions per minute. Possible values <br>        are: 5400, 7200, 10000, and 15000. This option is needed only when <br>        disks with different rotational speeds are connected to the filer.  It <br>        is not allowed if a list of disks to use is specified through the <br>        &quot;Disks&quot; parameter.<br>        <br>        Required?                    false<br>        Position?                    named<br>        Default value                <br>        Accept pipeline input?       false<br>        Accept wildcard characters?  false<br>        <br>    -SparePool &lt;String&gt;<br>        The spare pool from which to select spare disks to use in creation of a <br>        new aggregate. This option is not allowed if a list of disks specified <br>        through the &quot;disks&quot; parameter. This option cannot be used when Mirrored <br>        is set to true. <br>        <br>        Possible values:<br>        &quot;Pool0&quot;   - Disks associated with spare Pool0.<br>        &quot;Pool1&quot;   - Disks associated with spare Pool1.<br>        <br>        Required?                    false<br>        Position?                    named<br>        Default value                <br>        Accept pipeline input?       false<br>        Accept wildcard characters?  false<br>        <br>    -AllowMixedRpm<br>        If specified, disks in an aggregate are not required to have the same <br>        RPM.<br>        <br>        Required?                    false<br>        Position?                    named<br>        Default value                <br>        Accept pipeline input?       false<br>        Accept wildcard characters?  false<br>        <br>    -IgnorePoolChecks<br>        If specified, disks in a plex are not required to come from the same <br>        spare pool.  Similarly, if specified, disks in different plexes of a <br>        mirrored aggregate are not required to come from different spare pools.<br>        <br>        Required?                    false<br>        Position?                    named<br>        Default value                <br>        Accept pipeline input?       false<br>        Accept wildcard characters?  false<br>        <br>    -PreCheck<br>        If specified, check for warnings without actually creating the <br>        aggregate.  If any warnings are found, they are written to the pipeline <br>        as errors.<br>        <br>        Required?                    false<br>        Position?                    named<br>        Default value                <br>        Accept pipeline input?       false<br>        Accept wildcard characters?  false<br>        <br>    -Controller &lt;NaController&gt;<br>        The Data ONTAP controller object, embodied by an NaController object.  <br>        This parameter is returned by the Connect-NaController cmdlet.  If not <br>        specified, the value in the global variable CurrentNaController is used.<br>        <br>        Required?                    false<br>        Position?                    named<br>        Default value                <br>        Accept pipeline input?       false<br>        Accept wildcard characters?  false<br>        <br>    -RaidType &lt;String&gt;<br>        Specifies the type of RAID groups to use in the new aggregate.  <br>        Possible values: raid4, raid_dp. The default value is raid4 on most <br>        platforms.<br>        <br>        Required?                    false<br>        Position?                    named<br>        Default value                <br>        Accept pipeline input?       false<br>        Accept wildcard characters?  false<br>        <br>    -SnapLockType &lt;String&gt;<br>        Specifies the type of Snaplock aggregate to be created. Possible values <br>        - &quot;compliance&quot; or &quot;enterprise&quot; <br>        <br>        ESERVICENOTLICENSED is returned if the necessary Snaplock compliance or <br>        enterprise license has not been installed. <br>        <br>        EINVALIDINPUT is returned if snaplock-type has an illegal value or if <br>        SnapLock has been set to &quot;false&quot;. <br>        <br>        EONTAPI_EWORMNOCLOCK is returned if SnapLock Compliance Clock is not <br>        running.<br>        <br>        Required?                    false<br>        Position?                    named<br>        Default value                <br>        Accept pipeline input?       false<br>        Accept wildcard characters?  false<br>        <br>    -Type &lt;String&gt;<br>        The type of the aggregate. Possible values: aggr, trad.<br>        - &quot;aggr&quot; (aggregate contains flexible volumes)<br>        - &quot;trad&quot; (aggregate contains exactly one traditional volume)<br>        If not specified, the default is &quot;aggr.&quot;<br>        <br>        Required?                    false<br>        Position?                    named<br>        Default value                aggr<br>        Accept pipeline input?       false<br>        Accept wildcard characters?  false<br>        <br>    -Disks &lt;Object[]&gt;<br>        Specific list of disks to use for the new aggregate. If &quot;Mirrored&quot; is <br>        set to true and a specific list of disks is supplied, the &quot;MirrorDisks&quot; <br>        list with the same number of disks must also be supplied. Either <br>        &quot;DisksCount&quot; or &quot;Disks&quot; must be supplied.<br>        <br>        Required?                    true<br>        Position?                    named<br>        Default value                <br>        Accept pipeline input?       false<br>        Accept wildcard characters?  false<br>        <br>    -MirrorDisks &lt;Object[]&gt;<br>        List of mirror disks to use.  It must contain the same number of disks <br>        specified in &quot;Disks&quot;.<br>        <br>        Required?                    false<br>        Position?                    named<br>        Default value                <br>        Accept pipeline input?       false<br>        Accept wildcard characters?  false<br>        <br>    -AllowSameCarrier<br>        If specified, allows placing two disks from one carrier in one RAID <br>        group.<br>        <br>        Using two disks from one carrier that houses multiple disks in one RAID <br>        group is not desirable. If that happens, Data ONTAP initiates a series <br>        of disk copy operations to correct that situation. Sometimes, selection <br>        of available spare disks makes it impossible to avoid placing two disks <br>        from one carrier in one RAID group. Setting this option to true allows <br>        placing two disks from one carrier in one RAID group.  This option is <br>        only available when specifying specific disks using the Disks parameter.<br>        <br>        Required?                    false<br>        Position?                    named<br>        Default value                <br>        Accept pipeline input?       false<br>        Accept wildcard characters?  false<br>        <br>    &lt;CommonParameters&gt;<br>        This cmdlet supports the common parameters: Verbose, Debug,<br>        ErrorAction, ErrorVariable, WarningAction, WarningVariable,<br>        OutBuffer and OutVariable. For more information, see <br>        about_CommonParameters (http://go.microsoft.com/fwlink/?LinkID=113216). <br>    <br>INPUTS<br>    <br>        <br>        <br>    <br>     <br>    <br>OUTPUTS<br>    DataONTAP.Types.Aggr.AggrInfo<br>        <br>        The AggrInfo class describes a Data ONTAP aggregate.<br>    <br>     <br>    <br>NOTES<br>    <br>    <br>        Category: aggr<br>        API: aggr-create<br>    <br>    --------------  Example 1 --------------<br>    <br>    C:\PS&gt;New-NaAggr aggr1 -DiskCount 3 -DiskSize 73gb<br>    <br>    <br>    Simple invocation to create a new aggregate with 3 disks.<br>    <br>    <br>    <br>    BlockType                   :<br>    ChecksumStatus              : active<br>    ChecksumStyle               : block<br>    DiskCount                   : 3<br>    FilesTotal                  : 31142<br>    FilesUsed                   : 98<br>    IsChecksumEnabled           : True<br>    IsInconsistent              : False<br>    IsSnaplock                  : False<br>    MirrorStatus                : unmirrored<br>    Name                        : aggr1<br>    PlexCount                   : 1<br>    Plexes                      : {/aggr1/plex0}<br>    RaidSize                    : 16<br>    RaidStatus                  : raid_dp<br>    SizeAvailable               : 60945756160<br>    SizePercentageUsed          : 0<br>    SizeTotal                   : 60945833984<br>    SizeUsed                    : 77824<br>    SnaplockType                :<br>    State                       : online<br>    Type                        : aggr<br>    Uuid                        : 723cf282-9019-11df-b5ca-00a098052d0c<br>    VolumeCount                 : 0<br>    Volumes                     : {}<br>    SizePercentageUsedSpecified : True<br>    <br>    <br>    <br>    <br>RELATED LINKS<br>    <A HREF="cmdlet_Add-NaAggr.html">Add-NaAggr</A> <br>    <A HREF="cmdlet_Remove-NaAggr.html">Remove-NaAggr</A> <br>    <A HREF="cmdlet_Get-NaAggr.html">Get-NaAggr</A> <br><br><br><br><br><br></PRE><br><hr>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 CLASS="NavBarCell1">
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD CLASS="NavBarCell1"><FONT CLASS="NavBarFont1"><B>Copyright&nbsp;&copy;&nbsp;2013 NetApp.&nbsp;&nbsp;All rights reserved.&nbsp;&nbsp;Use is subject to <A HREF="license.html">license</A> terms.</B></FONT>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="middle" ROWSPAN=1>
<img border="0" src="NetAppLogoSmall.png">&nbsp;<EM><b>Data ONTAP&reg;&nbsp;PowerShell&nbsp;Toolkit</b></EM>
</TD>
</TR>
</TABLE><hr></body></html>