<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data ONTAP PowerShell Toolkit: Overview</title></head><body><hr>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 CLASS="NavBarCell1">
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD CLASS="NavBarCell1">    <A HREF="index.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD CLASS="NavBarCell1">    <A HREF="categories.html"><FONT CLASS="NavBarFont1"><B>Categories</B></FONT></A>&nbsp;</TD>
  <TD CLASS="NavBarCell1">    <A HREF="cmdlets.html"><FONT CLASS="NavBarFont1"><B>Cmdlets</B></FONT></A>&nbsp;</TD>
  <TD CLASS="NavBarCell1">    <A HREF="apis.html"><FONT CLASS="NavBarFont1"><B>APIs</B></FONT></A>&nbsp;</TD>
  <TD CLASS="NavBarCell1">    <A HREF="provider.html"><FONT CLASS="NavBarFont1"><B>Provider</B></FONT></A>&nbsp;</TD>
  <TD CLASS="NavBarCell1">    <A HREF="releaseNotes.html"><FONT CLASS="NavBarFont1"><B>Release notes</B></FONT></A>&nbsp;</TD>
  <TD CLASS="NavBarCell1">    <A HREF="license.html"><FONT CLASS="NavBarFont1"><B>License</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="middle" ROWSPAN=1>
<img border="0" src="NetAppLogoSmall.png">&nbsp;<EM><b>Data ONTAP&reg;&nbsp;PowerShell&nbsp;Toolkit</b></EM>
</TD>
</TR>
</TABLE><hr>
<TABLE ALIGN="center">
<TD ALIGN="center" VALIGN="middle"><A HREF="../webhelp.C/index.html"><FONT CLASS="NavBarFont1"><B>Switch to clustered Data ONTAP documentation.</B></FONT></A></TD>
</TABLE><hr><h2>Overview</h2><p><p>Intelligent storage capabilities are an integral part of application infrastructures, and one of the biggest challenges of managing intelligent storage is integrating it into existing processes, environments and management frameworks.  This is the principal reason NetApp created the Data ONTAP PowerShell Toolkit.<p><p>The Data ONTAP PowerShell Toolkit is a collection of PowerShell cmdlets intended to simplify storage management in Windows environments.  These cmdlets allow administrators to invoke Data ONTAP commands from a PowerShell script, which can then be easily invoked from existing management frameworks.  The cmdlets may also be used individually as an alternative to using the Data ONTAP command-line interface.<p><p><h2>Requirements</h2><p><p><ul><p><li>The Toolkit is a PowerShell v3 module, so PowerShell 3.0 or higher is required.<p><li>The Toolkit supports Data ONTAP 7.2.x, 7.3.x, and 8.0.x (7-Mode), 8.1.x, 8.2.x, 8.3.x., 9.0.x, 9.1.x, 9.2.x and 9.3.x<p></ul><p><p><h2>Getting Started</h2><p><p>To load the Toolkit, begin a script with 'Import-Module DataONTAP'.<p><p><p>To learn about which cmdlets are available, try <b>Show-NaHelp</b> or <b>Get-NaHelp</b> after importing the module.  Also, online help with examples is available for every cmdlet using PowerShell's built-in <b>Get-Help</b> cmdlet.<p><p><h2>Usage Notes</h2><p><h3>Types</h3><p>Starting with Toolkit 2.1, all types written to the PowerShell pipeline will remain stable over subsequent Toolkit releases.<p><p><p>As new APIs are supported, these types will be updated while retaining compatibility with previous versions of Data ONTAP.  Field names in these classes should remain stable over time.  Scripts should continue to be written to use the values in all returned objects without referring to the class names.  For example:<p><p><p><i>Correct:</i><p><pre><p>&nbsp;&nbsp;&nbsp;PS C:\> $vol = Get-NaVol vol2<p>&nbsp;&nbsp;&nbsp;PS C:\> $vol.Name<p>&nbsp;&nbsp;&nbsp;vol2<p></pre><p><i>Incorrect:</i><p><pre><p>&nbsp;&nbsp;&nbsp;PS C:\> [DataONTAP.Types.Volume.VolumeInfo] $vol = Get-NaVol vol2<p>&nbsp;&nbsp;&nbsp;PS C:\> $vol.Name<p>&nbsp;&nbsp;&nbsp;vol2<p></pre><p><p><h3>Clustered Data ONTAP</h3><p><p>Clustered Data ONTAP is the future of Data ONTAP.  While there are many similarities between clustered Data ONTAP and Data ONTAP 7-Mode, there are also several key differences that impact PowerShell users.<p><p><p>Most importantly, clustered Data ONTAP has no equivalent to "vfiler0", which corresponds to a physical controller running 7-Mode.  Clustered Data ONTAP has a single "admin" Vserver for managing physical resources in the cluster (disks, nodes, aggregates, network ports, etc.) and one or more data Vservers for serving data and managing most virtual components related to serving data (volumes, qtrees, LUN, protocols, snapshots, etc.).<p><p><p>It is critical to note that some APIs (and therefore some cmdlets) are only handled by the cluster admin Vserver, while others are only handled by the data Vservers.  The Toolkit user is responsible for directing cmdlets to the proper Vserver.  The Toolkit provides several methods of directing cmdlets, and it does so automatically in some cases.<p><p><p>For example, to connect to a cluster admin Vserver:<p><p><pre><p>&nbsp;&nbsp;&nbsp;PS C:\> Connect-NcController cluster1<p></pre><p><p>While connected to a cluster admin Vserver, you can direct cmdlets to a data Vserver in several ways:<p><p><ol><p><li>Set the data Vserver while connecting to the cluster Vserver:<p><pre><p>&nbsp;&nbsp;&nbsp;PS C:\> Connect-NcController cluster1 -Vserver vserver1<p></pre><p><li>Set the data Vserver anytime after connecting to the cluster Vserver:<p><pre><p>&nbsp;&nbsp;&nbsp;PS C:\> Connect-NcController cluster1<p>&nbsp;&nbsp;&nbsp;PS C:\> $global:CurrentNcController.Vserver = "vserver1"<p></pre><p><li>Specify the data Vserver destination as a cmdlet argument:<p><pre><p>&nbsp;&nbsp;&nbsp;PS C:\> Set-NcLunSize /vol/unitTestLuns/georgeTestFcp01 +10% -VserverContext vserver1<p></pre><p><li>Use getters from either cluster or data Vserver, and pipe their output into other cmdlets.  The Toolkit includes enough context on objects written to the pipeline to determine where to direct subsequent cmdlets that operate on those objects:<p><pre><p>&nbsp;&nbsp;&nbsp;PS C:\> Connect-NcController cluster1<p>&nbsp;&nbsp;&nbsp;PS C:\> Get-NcLun | Set-NcLunSize -NewSize +10%<p></pre><p></ol><p>You can also connect directly to a data Vserver management interface.  While connected directly to a data Vserver, cmdlets may not be issued to the cluster admin Vserver or any other data Vserver.<p><pre><p>&nbsp;&nbsp;&nbsp;PS C:\> Connect-NcController vserver1<p></pre><p>Many getter cmdlets work in either the cluster admin or data Vserver contexts.  To determine where cmdlets may be directed, use <b>Get-NcHelp</b> and check the Family field:<p><pre><p>&nbsp;&nbsp;&nbsp;PS C:\> Get-NcHelp -Category volume<p>&nbsp;&nbsp;&nbsp;Name                        Category Family             Api<p>&nbsp;&nbsp;&nbsp;----                        -------- ------             ---<p>&nbsp;&nbsp;&nbsp;Dismount-NcVol              volume   {vserver}          {volume-unmount}<p>&nbsp;&nbsp;&nbsp;Get-NcVol                   volume   {cluster, vserver} {volume-get-iter}<p>&nbsp;&nbsp;&nbsp;Get-NcVolAutosize           volume   {vserver}          {volume-autosize-get}<p>&nbsp;&nbsp;&nbsp;Get-NcVolClone              volume   {cluster, vserver} {volume-clone-get-iter}<p>&nbsp;&nbsp;&nbsp;Get-NcVolCloneSplit         volume   {vserver}          {volume-clone-split-status}<p></pre><p><p><h3>Known Issues</h3><p><ul><p><li>The Toolkit relies on the Data ONTAP's ZAPI interface.  Some newer APIs, such as those for network configuration, are not available in older Data ONTAP releases.  A Toolkit cmdlet will throw an exception with the message "Unable to find API" in this case.<p><li>File names in a volume that contain non-ASCII characters may not be handled correctly by cmdlets that accept or emit file names.  Examples include virtually all cmdlets in the <i>file</i> category.  This a Data ONTAP bug, not a problem with the Toolkit.  A workaround is to add ".UTF-8" to the volume language setting.  This issue affects the Toolkit cmdlets as well as the DataONTAP provider.<p></ul><hr>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 CLASS="NavBarCell1">
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD CLASS="NavBarCell1"><FONT CLASS="NavBarFont1"><B>Copyright&nbsp;&copy;&nbsp;2013 NetApp.&nbsp;&nbsp;All rights reserved.&nbsp;&nbsp;Use is subject to <A HREF="license.html">license</A> terms.</B></FONT>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="middle" ROWSPAN=1>
<img border="0" src="NetAppLogoSmall.png">&nbsp;<EM><b>Data ONTAP&reg;&nbsp;PowerShell&nbsp;Toolkit</b></EM>
</TD>
</TR>
</TABLE><hr></body></html>